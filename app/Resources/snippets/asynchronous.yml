services:
    synchronous_logging_middleware:
        class: SimpleBus\Message\Logging\LoggingMiddleware
        arguments:
            - @logger
            - 'debug'
        tags:
            - { name: monolog.logger, channel: synchronous }
            - { name: command_bus_middleware, priority: -999 }
            - { name: event_bus_middleware, priority: -999 }

    asynchronous_logging_middleware:
        class: SimpleBus\Message\Logging\LoggingMiddleware
        arguments:
            - @logger
            - 'debug'
        tags:
            - { name: monolog.logger, channel: asynchronous }
            - { name: asynchronous_command_bus_middleware, priority: -999 }
            - { name: asynchronous_event_bus_middleware, priority: -999 }
